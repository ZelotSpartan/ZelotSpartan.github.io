<!Doctype>
<HTML>
	<script src="https://www.gstatic.com/firebasejs/3.3.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/3.3.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/3.3.0/firebase-database.js"></script>

<!-- Leave out Storage -->
<!-- <script src="https://www.gstatic.com/firebasejs/3.3.0/firebase-storage.js"></script> -->

<script>
  var config = {
    // ...
  };
  firebase.initializeApp(config);
</script>
<script src="https://www.gstatic.com/firebasejs/3.3.0/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyDDhkF38juuQ4SywjGVMagtbtKR8west_I",
    authDomain: "website-3ff67.firebaseapp.com",
    databaseURL: "https://website-3ff67.firebaseio.com",
    storageBucket: "website-3ff67.appspot.com",
  };
  firebase.initializeApp(config);
	var database = firebase.database();
function writeUserData(userId, name, email, pword) {
  firebase.database().ref('users/' + userId).set({
    username: name,
    email: email,
	password: pword
  });
}
function newUser(){
	 if(document.getElementById('uname').value!=""||document.getElementById('email').value!=""||document.getElementById('pword').value!=""){
	var newPostKey = database.ref().child('users').push().key;
	var text1 = document.getElementById('uname').value;
	var text2 = document.getElementById('email').value;
	var text3 = document.getElementById('pword').value;
	writeUserData(newPostKey,text1,text2,text3);
		document.getElementById('uname').value="";
		document.getElementById('email').value="";
		document.getElementById('pword').value="";
	}else{
		alert("A field is empty")
	}
}
function getUser(){
	var password = document.getElementById('pword').value;
	var email = document.getElementById('email').value;
	firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {
  // Handle Errors here.
  var errorCode = error.code;
  var errorMessage = error.message;
		console.log(errorCode+" "+errorMessage)
  // ...
	});
		document.getElementById('uname').value="";
		document.getElementById('email').value="";
		document.getElementById('pword').value="";
}
</script>
    
	<br />
	<body bgcolor=#93B874>
		<Title>My Website</Title>
		Welcome to my website!
		<br />
		User Name:
		<textarea rows="1" cols="20" id="uname"></textarea>
		<br />
		Email:
		<textarea rows="1" cols="20" id="email"></textarea>
		<br />
		Password:
		<textarea rows="1" cols="20" id="pword" type="password"></textarea>
		<br />
		<button type="button" onclick="newUser()">Create</button>
		<button type="button" onclick="getUser()">Login</button>
	</body>
</HTML>


	<!--<script>
		if(localStorage.clickcount){
			localStorage.clickcount = Number(localStorage.clickcount)+1
		}
		else{
			localStorage.clickcount = 1
		}
		document.write(localStorage.clickcount)
		console.log("Hello")
		document.write("<br>");
		if(localStorage.clickcount==1){
		localStorage.setItem("name",r)
		}
		document.write("Name: "+localStorage.getItem("name"))
	</script>


	/// if(document.getElementById('uname').value!=""||document.getElementById('email').value!=""||document.getElementById('pword').value!=""){
	//var newPostKey = database.ref().child('users').push().key;
	//var text1 = document.getElementById('uname').value;
	//var text2 = document.getElementById('email').value;
	//var text3 = document.getElementById('pword').value;
	//writeUserData(newPostKey,text1,text2,text3);
	//	document.getElementById('uname').value="";
	//	document.getElementById('email').value="";
	//	document.getElementById('pword').value="";
	//	document.write("User created succesfully");
	//}else{
	//	alert("A field is blank")
	//}


-->

<!--
<git remote add origin <url>>
git add .
git commit -m "Save"
git push -u origin master

-->